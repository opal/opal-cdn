Opal.modules["cgi/util"]=function(Opal){var $klass=Opal.klass,$module=Opal.module,$def=Opal.def,$const_set=Opal.const_set,$send=Opal.send,$eqeqeq=Opal.eqeqeq,$alias=Opal.alias,$nesting=[],$$$=(Opal.nil,Opal.$$$);return Opal.add_stubs("gsub,last_match,===,to_i,chr,hex,escapeHTML,unescapeHTML,include,extend"),function($base,$super,$parent_nesting){var self=$klass($base,null,"CGI"),$nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);return function($base,$parent_nesting){var self=$module($base,"Util"),$nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$escape",(function(c){return encodeURI(c)})),$def(self,"$unescape",(function(c){return decodeURI(c)})),$def(self,"$escapeURIComponent",(function(c){return encodeURIComponent(c)})),$def(self,"$unescapeURIComponent",(function(c){return decodeURIComponent(c)})),$const_set($nesting[0],"TABLE_FOR_ESCAPE_HTML__",new Map([["'","&#39;"],["&","&amp;"],['"',"&quot;"],["<","&lt;"],[">","&gt;"]])),$def(self,"$escapeHTML",(function(string){return string.$gsub(/['&"<>]/,$$("TABLE_FOR_ESCAPE_HTML__"))})),$def(self,"$unescapeHTML",(function(string){return $send(string,"gsub",[/&(apos|amp|quot|gt|lt|\#[0-9]+|\#[xX][0-9A-Fa-f]+);/],(function(){var match,$ret_or_1;return match=$$$("Regexp").$last_match(1),$eqeqeq("apos",$ret_or_1=match)?"'":$eqeqeq("amp",$ret_or_1)?"&":$eqeqeq("quot",$ret_or_1)?'"':$eqeqeq("gt",$ret_or_1)?">":$eqeqeq("lt",$ret_or_1)?"<":$eqeqeq(/^#0*(\d+)$/,$ret_or_1)?$$$("Regexp").$last_match(1).$to_i().$chr("utf-8"):$eqeqeq(/^#x([0-9a-f]+)$/i,$ret_or_1)?$$$("Regexp").$last_match(1).$hex().$chr("utf-8"):"&"+match+";"}))})),$alias(self,"escape_html","escapeHTML"),$alias(self,"unescape_html","unescapeHTML"),$alias(self,"h","escapeHTML")}($nesting[0],$nesting),self.$include($$("Util")),self.$extend($$("Util"))}($nesting[0],0,$nesting)},Opal.modules.cgi=function(Opal){var self=Opal.top;Opal.nil;return Opal.add_stubs("require"),self.$require("cgi/util")};
