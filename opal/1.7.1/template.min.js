Opal.modules.template=function(Opal){var $klass=Opal.klass,$hash2=Opal.hash2,$truthy=Opal.truthy,$defs=Opal.defs,$send=Opal.send,$def=Opal.def,$alias=Opal.alias,$nesting=[],nil=Opal.nil;return Opal.add_stubs("[],[]=,keys,attr_reader,instance_exec,new,to_proc,<<,join,append"),function($base,$super,$parent_nesting){var self=$klass($base,null,"Template"),$nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;return $proto.name=$proto.body=nil,self._cache=$hash2([],{}),$defs(self,"$[]",(function(name){var $ret_or_1;return null==this._cache&&(this._cache=nil),$truthy($ret_or_1=this._cache["$[]"](name))?$ret_or_1:this._cache["$[]"]("templates/"+name)})),$defs(self,"$[]=",(function(name,instance){var $a;return null==this._cache&&(this._cache=nil),$a=[name,instance],$send(this._cache,"[]=",$a),$a[$a.length-1]})),$defs(self,"$paths",(function(){return null==this._cache&&(this._cache=nil),this._cache.$keys()})),self.$attr_reader("body"),$def(self,"$initialize",(function $$initialize(name){var $a,body=$$initialize.$$p||nil;return $$initialize.$$p=null,$a=[name,body],this.name=$a[0],this.body=$a[1],$a=[name,this],$send($$("Template"),"[]=",$a),$a[$a.length-1]})),$def(self,"$inspect",(function(){return"#<Template: '"+this.name+"'>"})),$def(self,"$render",(function(ctx){return null==ctx&&(ctx=this),$send(ctx,"instance_exec",[$$("OutputBuffer").$new()],this.body.$to_proc())}),-1),function($base,$super){var self=$klass($base,null,"OutputBuffer");return self.$$prototype.buffer=nil,$def(self,"$initialize",(function(){return this.buffer=[]})),$def(self,"$append",(function(str){return this.buffer["$<<"](str)})),$def(self,"$join",(function(){return this.buffer.$join()})),$alias(self,"append=","append")}($nesting[0])}($nesting[0],0,$nesting)};
