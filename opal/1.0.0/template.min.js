Opal.modules.template=function(Opal){function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.const_get_qualified,Opal.const_get_relative),$klass=(Opal.breaker,Opal.slice,Opal.klass),$hash2=Opal.hash2,$truthy=Opal.truthy,$send=Opal.send;return Opal.add_stubs(["$[]","$[]=","$-","$keys","$attr_reader","$instance_exec","$new","$to_proc","$<<","$join"]),function($base,$super,$parent_nesting){var $Template_$$$1,$Template_$$$eq$2,$Template_paths$3,$Template_initialize$4,$Template_inspect$5,$Template_render$6,self=$klass($base,null,"Template"),$nesting=[self].concat($parent_nesting);return self.$$prototype.name=self.$$prototype.body=nil,self._cache=$hash2([],{}),Opal.defs(self,"$[]",$Template_$$$1=function(name){var $a;return null==this._cache&&(this._cache=nil),$truthy($a=this._cache["$[]"](name))?$a:this._cache["$[]"]("templates/"+name)},$Template_$$$1.$$arity=1),Opal.defs(self,"$[]=",$Template_$$$eq$2=function(name,instance){var $writer;return null==this._cache&&(this._cache=nil),$writer=[name,instance],$send(this._cache,"[]=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)]},$Template_$$$eq$2.$$arity=2),Opal.defs(self,"$paths",$Template_paths$3=function(){return null==this._cache&&(this._cache=nil),this._cache.$keys()},$Template_paths$3.$$arity=0),self.$attr_reader("body"),Opal.def(self,"$initialize",$Template_initialize$4=function(name){var $a,$writer,$iter=$Template_initialize$4.$$p,body=$iter||nil;return $iter&&($Template_initialize$4.$$p=null),$iter&&($Template_initialize$4.$$p=null),$a=[name,body],this.name=$a[0],this.body=$a[1],$writer=[name,this],$send($$($nesting,"Template"),"[]=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)]},$Template_initialize$4.$$arity=1),Opal.def(self,"$inspect",$Template_inspect$5=function(){return"#<Template: '"+this.name+"'>"},$Template_inspect$5.$$arity=0),Opal.def(self,"$render",$Template_render$6=function(ctx){return null==ctx&&(ctx=this),$send(ctx,"instance_exec",[$$($nesting,"OutputBuffer").$new()],this.body.$to_proc())},$Template_render$6.$$arity=-1),function($base,$super,$parent_nesting){var $OutputBuffer_initialize$7,$OutputBuffer_append$8,$OutputBuffer_join$9,self=$klass($base,null,"OutputBuffer");[self].concat($parent_nesting);return self.$$prototype.buffer=nil,Opal.def(self,"$initialize",$OutputBuffer_initialize$7=function(){return this.buffer=[]},$OutputBuffer_initialize$7.$$arity=0),Opal.def(self,"$append",$OutputBuffer_append$8=function(str){return this.buffer["$<<"](str)},$OutputBuffer_append$8.$$arity=1),Opal.alias(self,"append=","append"),Opal.def(self,"$join",$OutputBuffer_join$9=function(){return this.buffer.$join()},$OutputBuffer_join$9.$$arity=0),nil&&"join"}($nesting[0],0,$nesting)}($nesting[0],0,$nesting)};
