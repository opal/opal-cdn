Opal.queue((function(Opal){var $module=Opal.module,$def=Opal.def,$send2=Opal.send2,$find_super=Opal.find_super,$send=Opal.send,$truthy=Opal.truthy,$defs=Opal.defs,$nesting=[],nil=Opal.nil;return Opal.add_stubs("raise,class,__init__,instance_eval,new,extend"),function($base,$parent_nesting){var self=$module($base,"Singleton"),$nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);return $def(self,"$clone",(function(){return this.$raise($$("TypeError"),"can't clone instance of singleton "+this.$class())})),$def(self,"$dup",(function(){return this.$raise($$("TypeError"),"can't dup instance of singleton "+this.$class())})),function($base,$parent_nesting){var self=$module($base,"SingletonClassMethods"),$nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$clone",(function $$clone(){var $yield=$$clone.$$p||nil;return $$clone.$$p=null,$$("Singleton").$__init__($send2(this,$find_super(this,"clone",$$clone,!1,!0),"clone",[],$yield))})),$def(self,"$inherited",(function $$inherited(sub_klass){var $yield=$$inherited.$$p||nil;return $$inherited.$$p=null,$send2(this,$find_super(this,"inherited",$$inherited,!1,!0),"inherited",[sub_klass],$yield),$$("Singleton").$__init__(sub_klass)}))}($nesting[0],$nesting),function(self,$parent_nesting){var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);return $def(self,"$__init__",(function(klass){return $send(klass,"instance_eval",[],(function $$1(){return(null==$$1.$$s?this:$$1.$$s).singleton__instance__=nil}),{$$s:this}),$defs(klass,"$instance",(function(){return null==this.singleton__instance__&&(this.singleton__instance__=nil),$truthy(this.singleton__instance__)?this.singleton__instance__:this.singleton__instance__=this.$new()})),klass})),$def(self,"$included",(function $$included(klass){var $yield=$$included.$$p||nil;return $$included.$$p=null,$send2(this,$find_super(this,"included",$$included,!1,!0),"included",[klass],$yield),klass.$extend($$("SingletonClassMethods")),$$("Singleton").$__init__(klass)}))}(Opal.get_singleton_class($$("Singleton")),$nesting)}($nesting[0],$nesting)}));
